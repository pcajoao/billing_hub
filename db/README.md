# ğŸ—„ï¸ Database (DB)

This directory is responsible for the database definition, schema versioning, and initial data seeding.

## ğŸ“‚ Structure

| File/Directory | Description |
| :--- | :--- |
| **migrate/** | Contains **Time-stamped Migration Files**. These Ruby scripts instruct the database how to change structure (create tables, add columns). |
| **schema.rb** | The **Authoritative Source of Truth** for the database structure. Auto-generated by Rails. **Do not edit manually.** |
| **seeds.rb** | Script to populate the database with initial data (e.g., default plans, testing tenants). Run via `rails db:seed`. |

## ğŸ”— Multi-tenancy (Apartment)
BillingHub uses the `ros-apartment` gem.
*   **Public Schema:** Shared tables (e.g., `Tenants`, `Products`, `GatewayEvents`).
*   **Tenant Schemas:** Isolated tables for each customer (e.g., `Invoices`, `Transactions`, `Customers`).

Migrations are automatically run across all tenant schemas.
